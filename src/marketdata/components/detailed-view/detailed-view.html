<template>
  <span class="border">
    <div class="col-md-10 my-5 mx-auto">
      <div>
      <h3>${company.groupName}</h3>
      </div>
      <hr>
      <div class="mt-3">
        <h5>General data</h5>
      </div>
      <div class="row-marketdata" display="table">
        <div class="column-marketdata">
            <dt class="font-weight-light">REGISTRATION CODE</dt>
            <div style="margin: 0 30px 30px 0">
                <span if.bind="!canEdit">${ company.partyId }</span>
                <span if.bind="canEdit">${ company.partyId }</span>
              <!-- <input if.bind="canEdit" type="text" class="form-control" value.bind="company.partyId"> -->
            </div>
            <dt class="font-weight-light">EMPLOYEE COUNT</dt>
            <div style="margin: 0 30px 30px 0">
                <span if.bind="!canEdit">${ company.numEmployees }</span>
                <input if.bind="canEdit" type="text" class="form-control" value.bind="company.numEmployees">
            </div>
            <dt class="font-weight-light">REGION</dt>
            <div style="margin: 0 30px 30px 0">
                <span if.bind="!canEdit">${ company.officeSiteName }</span>
                <input if.bind="canEdit" type="text" class="form-control" value.bind="company.officeSiteName">
            </div>
            <dt class="font-weight-light">REVENUE</dt>
            <div style="margin: 0 30px 30px 0">
                <span if.bind="!canEdit">${ company.annualRevenue }</span>
                <input if.bind="canEdit" type="text" class="form-control" value.bind="company.annualRevenue">
            </div>
            <dt class="font-weight-light">BUSINESS STAGE</dt>
            <div style="margin: 0 30px 30px 0">
                <span if.bind="!canEdit"></span>
                <input if.bind="canEdit" type="text" class="form-control">
            </div>
        </div>
        </div>
      <div>
        <button type="button" class="btn btn-dark float-left mr-3" click.delegate="updateCompany()">${value}</button>
        <button class="btn btn-dark float-left mr-2" click.delegate="deleteCompany()">${close}</button>
      </div>
      <div if="true">
        <div style="margin: 70px 0px 0px 0">
          <h5>Registrated addresses</h5>
            <table class="table table-bordered shadow-sm p-3 mb-5 bg-white rounded"
                   aurelia-table="data.bind: address; display-data.bind: $displayAddress">
              <thead>
                <tr>
                  <th>Address</th>
                </tr>
              </thead>
              <tbody>
                <tr repeat.for="address of $displayAddress">
                    <td>${address._toOne_PostalAddress.address1} ${address._toOne_PostalAddress.houseNumber} - ${address._toOne_PostalAddress.houseNumberExt}, ${address._toOne_PostalAddress.city}</td>
                </tr>
              </tbody>
            </table>
        </div>
      </div>

      <div style="margin: 30px 0px 0px 0">
      <h5>Annual revenue</h5>
        <table class="table table-bordered shadow-sm p-3 mb-5 bg-white rounded"
               aurelia-table="data.bind: companyTimeperiodInfo; display-data.bind: $displayData">
          <thead>
          <tr>
            <th>Year</th>
            <th>Quarter</th>
            <th>Month</th>
            <th>Number of Employees</th>
            <th>Revenue</th>
            <th>State Taxes</th>
            <th>Workforce Taxes</th>
        </tr>
        </thead>
        <tbody>
        <tr repeat.for="companyTimeperiodInfo of $displayData">
            <td>${companyTimeperiodInfo.year_}</td>
            <td>${companyTimeperiodInfo.quarter}</td>
            <td>${companyTimeperiodInfo.month_}</td>
            <td>${companyTimeperiodInfo.numberOfEmployees}</td>
            <td>${companyTimeperiodInfo.revenue}</td>
            <td>${companyTimeperiodInfo.stateTaxes}</td>
            <td>${companyTimeperiodInfo.workforceTaxes}</td>
        </tr>
        </tbody>
          <tfoot>
            <tr>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
              <td></td>
            </tr>
          </tfoot>
        </table>
    </div>

      <div style="margin: 30px 0px 0px 0">
      <h5>Related parties</h5>
        <table class="table table-bordered shadow-sm p-3 mb-5 bg-white rounded"
               aurelia-table="data.bind: companyTimeperiodInfo; display-data.bind: $displayData">
          <thead>
          <tr>
            <th>Email</th>
        </tr>
        </thead>
        <tbody>
        <tr repeat.for="companyTimeperiodInfo of $displayData">
            <td></td>
        </tr>
        </tbody>
        </table>
    </div>
    </div>
  </span>
</template>
